
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.exaloop.io/developers/ir/">
      
      
        <link rel="prev" href="../compilation/">
      
      
        <link rel="next" href="../extend/">
      
      
        
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
  
    <title>Intermediate Representation | Codon</title>
  

    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CSource+Code+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Source Code Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#motivation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  <a href="https://discord.gg/HeWRhagCmP">
    <strong>
      ðŸŽ‰ Join our community on Discord
      <span class="discord-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
      </span>
    </strong> â€” Ask questions, share ideas, and get support!
  </a>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="" class="md-header__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../img/codon-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Intermediate Representation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/exaloop/codon" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    exaloop/codon
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../start/install/" class="md-tabs__link">
          
  
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../language/overview/" class="md-tabs__link">
          
  
  
  Language

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../libraries/stdlib/" class="md-tabs__link">
          
  
  
  Libraries

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../integrations/python/python-from-codon/" class="md-tabs__link">
          
  
  
  Integrations

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../parallel/multithreading/" class="md-tabs__link">
          
  
  
  Parallel Programming

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../labs/" class="md-tabs__link">
        
  
  
    
  
  Labs

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../compilation/" class="md-tabs__link">
          
  
  
  Developers

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://exaloop.io/blog" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="" class="md-nav__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../img/codon-white.svg" alt="logo">

    </a>
    
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/exaloop/codon" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    exaloop/codon
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Get Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Language
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Language
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Classes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/generics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metaprogramming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/lowlevel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Low-Level Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/llvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inline LLVM IR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Libraries
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Libraries
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/stdlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standard Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/numpy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NumPy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/python/python-from-codon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Call Python from Codon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/python/codon-from-python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Call Codon from Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/python/extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Python Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C/C++
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    C/C++
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/cpp/cpp-from-codon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Call C/C++ from Codon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/cpp/codon-from-cpp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Call Codon from C/C++
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/cpp/jit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Embed Codon JIT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jupyter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Parallel Programming
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Parallel Programming
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel/multithreading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multithreading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPU Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel/simd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SIMD Programming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Labs
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Developers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compilation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compilation Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Intermediate Representation
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Intermediate Representation
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Motivation
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#at-a-glance" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          At a glance
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Structure
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uses" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Uses
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          An example
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Bidirectionality
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-the-ir" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Extending the IR
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Utilities
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-pass-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Standard pass pipeline
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extend Codon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build from Source
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://exaloop.io/blog" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Motivation
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#at-a-glance" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          At a glance
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Structure
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uses" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Uses
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#an-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          An example
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Bidirectionality
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-the-ir" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Extending the IR
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Utilities
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-pass-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Standard pass pipeline
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Intermediate Representation</h1>

<p>After type checking but before native code generation, the Codon compiler
makes use of a new <a href="https://en.wikipedia.org/wiki/Intermediate_representation">intermediate representation</a>
called CIR, where a number of higher-level optimizations, transformations and analyses take place.
CIR offers a comprehensive framework for writing new optimizations or
analyses without having to deal with cumbersome abstract syntax trees (ASTs)
albeit while preserving higher-level program constructs and semantics.</p>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h2>
<p>In Codon's optimization framework, we often found the need to reason about higher-level
Python constructs, which wasn't feasible through LLVM IR. For instance, one optimization
Codon performs pertains to removing redundant dictionary accesses, e.g. as found in this
common code pattern:</p>
<div class="highlight"><pre><span></span><code><span id="__span-0-1"><span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># increment count of key &#39;k&#39; in dict &#39;d&#39;</span>
</span></code></pre></div>
<p>The original code performs two lookups of key <code>k</code>, but only one lookup is required. To
address this, we want to find patterns of the form <code>d[k] = d.get(k, i) + j</code> and replace them
with an implementation that performs just one lookup of <code>k</code>. It turns out that this is nearly
impossible to do at the LLVM IR level as <code>dict.__setitem__()</code> (which corresponds to the
assignment <code>d[k] = ...</code>) and <code>dict.get()</code> both compile to large, complex LLVM IR that we'd
have no hope of recognizing and making sense of after the fact â€” in other words, the semantic
meaning of the original code (i.e. "increment the count of <code>k</code> in <code>d</code>") is effectively lost.</p>
<p>To solve this problem, Codon employs its own IR, which sits between the abstract syntax tree and
LLVM IR in the compilation process. Codon IR is much simpler than the AST, but still retains
enough information to reason about semantics and higher-level constructs. Identifying the
dictionary pattern above, for example, amounts to simply identifying a short sequence of IR
that resembles <code>dict.__setitem__(d, k, dict.get(d, k, i) + j)</code>.</p>
<h2 id="at-a-glance">At a glance<a class="headerlink" href="#at-a-glance" title="Permanent link">&para;</a></h2>
<p>Here is a small (simplified) example showcasing CIR in action. Consider the code:</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><span class="k">def</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span id="__span-1-2">    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="__span-1-3">        <span class="k">return</span> <span class="mi">1</span>
</span><span id="__span-1-4">    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-5">        <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</span></code></pre></div>
<p>When instantiated with an <code>int</code> argument, the following IR gets produced (the
names have been cleaned up for simplicity):</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><span class="p">(</span><span class="nv">bodied_func</span>
</span><span id="__span-2-2"><span class="w">  </span><span class="o">&#39;</span><span class="s">&quot;fib[int]&quot;</span>
</span><span id="__span-2-3"><span class="w">  </span><span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;fib[int]&quot;</span><span class="p">)</span>
</span><span id="__span-2-4"><span class="w">  </span><span class="p">(</span><span class="nv">args</span><span class="w"> </span><span class="p">(</span><span class="nv">var</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="p">(</span><span class="k">type</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;int&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nv">global</span><span class="w"> </span><span class="nv">false</span><span class="p">)))</span>
</span><span id="__span-2-5"><span class="w">  </span><span class="p">(</span><span class="nv">vars</span><span class="p">)</span>
</span><span id="__span-2-6"><span class="w">  </span><span class="p">(</span><span class="nv">series</span>
</span><span id="__span-2-7"><span class="w">    </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">call</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;int.__lt__[int,int]&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-2-8"><span class="w">      </span><span class="p">(</span><span class="nv">series</span><span class="w"> </span><span class="p">(</span><span class="nb">return</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
</span><span id="__span-2-9"><span class="w">      </span><span class="p">(</span><span class="nv">series</span>
</span><span id="__span-2-10"><span class="w">        </span><span class="p">(</span><span class="nb">return</span>
</span><span id="__span-2-11"><span class="w">          </span><span class="p">(</span><span class="nv">call</span>
</span><span id="__span-2-12"><span class="w">            </span><span class="o">&#39;</span><span class="s">&quot;int.__add__[int,int]&quot;</span>
</span><span id="__span-2-13"><span class="w">            </span><span class="p">(</span><span class="nv">call</span>
</span><span id="__span-2-14"><span class="w">              </span><span class="o">&#39;</span><span class="s">&quot;fib[int]&quot;</span>
</span><span id="__span-2-15"><span class="w">              </span><span class="p">(</span><span class="nv">call</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;int.__sub__[int,int]&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
</span><span id="__span-2-16"><span class="w">            </span><span class="p">(</span><span class="nv">call</span>
</span><span id="__span-2-17"><span class="w">              </span><span class="o">&#39;</span><span class="s">&quot;fib[int]&quot;</span>
</span><span id="__span-2-18"><span class="w">              </span><span class="p">(</span><span class="nv">call</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;int.__sub__[int,int]&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="mi">2</span><span class="p">))))))))</span>
</span></code></pre></div>
<p>A few interesting points to consider:</p>
<ul>
<li>CIR is hierarchical like ASTS, but unlike ASTs it uses a vastly reduced
  set of nodes, making it much easier to work with and reason about.</li>
<li>Operators are expressed as function calls. In fact, CIR has no explicit
  concept of <code>+</code>, <code>-</code>, etc. and instead expresses these via their corresponding
  magic methods (<code>__add__</code>, <code>__sub__</code>, etc.).</li>
<li>CIR has no concept of generic types. By the time CIR is generated, all types
  need to have been resolved.</li>
</ul>
<h2 id="structure">Structure<a class="headerlink" href="#structure" title="Permanent link">&para;</a></h2>
<p>CIR is comprised of a set of <em>nodes</em>, each with a specific semantic meaning.
There are nodes for representing constants (e.g. <code>42</code>), instructions (e.g. <code>call</code>)
control flow (e.g. <code>if</code>), types (e.g. <code>int</code>) and so on.</p>
<p>Here is the node hierarchy:</p>
<pre class="mermaid"><code>graph TD
  N(Node) --&gt; M(Module);
  N --&gt; T(Type);
  N --&gt; VR(Var);
  N --&gt; VL(Value);
  VR --&gt; FN(Func);
  VL --&gt; C(Const);
  VL --&gt; I(Instr);
  VL --&gt; FL(Flow);</code></pre>
<p>Here is a breakdown of the different types of nodes:</p>
<ul>
<li><strong>Module</strong>: a special container node that represents the entire program, i.e. all
  the functions needed by the program as well as the main code that is executed when
  running the program (in practice, we simply put this code into a new implicit "main"
  function).</li>
<li><strong>Type</strong>: a kind of node that is attached to all other nodes and represents the given
  node's data type, be it an integer, float, string etc. One important aspect of Codon IR
  is that it's fully typed, meaning we never deal with ambiguous or unknown types; type
  checking is done on the AST before Codon IR is generated.</li>
<li><strong>Var</strong>: represents a variable in a program. Variables are usually produced from assignments
  like <code>x = y</code>, but they can also be produced from control-flow statements like
  <code>for i in range(10)</code>, which creates variable <code>i</code>.</li>
<li><strong>Func</strong>: a type of <strong>Var</strong> that represents a function.</li>
<li><strong>Value</strong>: a generic node that represents values, which can be anything from constants to
  variable references or function calls and so on.</li>
<li><strong>Instr</strong>: a type of Value that represents a specific operation, such as a function call,
  return statement, conditional expression (i.e. <code>x if y else z</code>) and so on.</li>
<li><strong>Flow</strong>: represents control-flow statements like <code>if</code>-statements, <code>while</code>-loops,
  <code>try</code>-<code>except</code> etc. These are first-class values in Codon IR.</li>
<li><strong>Const</strong>: represents a constant like <code>42</code>, <code>"hello"</code> or <code>3.14</code>.</li>
</ul>
<h2 id="uses">Uses<a class="headerlink" href="#uses" title="Permanent link">&para;</a></h2>
<p>CIR provides a framework for doing program optimizations, analyses and transformations.
These operations are collectively known as IR <em>passes</em>.</p>
<p>A number of built-in passes and other functionalities are provided by CIR. These can be
used as building blocks to create new passes. Examples include:</p>
<ul>
<li>Control-flow graph creation</li>
<li>Reaching definitions</li>
<li>Dominator analysis</li>
<li>Side effect analysis</li>
<li>Constant propagation and folding</li>
<li>Canonicalization</li>
<li>Inlining and outlining</li>
<li>Python-specific optimizations targeting several common Python idioms</li>
</ul>
<p>We're regularly adding new standard passes, so this list is always growing.</p>
<h3 id="an-example">An example<a class="headerlink" href="#an-example" title="Permanent link">&para;</a></h3>
<p>Let's look at a real example. Imagine we want to write a pass that transforms expressions
of the form <code>&lt;int const&gt; + &lt;int const&gt;</code> into a single <code>&lt;int const&gt;</code> denoting the result.
In other words, a simple form of constant folding that only looks at addition on integers.
The resulting pass would like this:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/transform/pass.h&quot;</span>
</span><span id="__span-3-2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/util/irtools.h&quot;</span>
</span><span id="__span-3-3">
</span><span id="__span-3-4"><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">codon</span><span class="o">::</span><span class="nn">ir</span><span class="p">;</span>
</span><span id="__span-3-5">
</span><span id="__span-3-6"><span class="k">class</span><span class="w"> </span><span class="nc">MyAddFolder</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">transform</span><span class="o">::</span><span class="n">OperatorPass</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-7"><span class="k">public</span><span class="o">:</span>
</span><span id="__span-3-8"><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">KEY</span><span class="p">;</span>
</span><span id="__span-3-9"><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">getKey</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">KEY</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-3-10">
</span><span id="__span-3-11"><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">CallInstr</span><span class="w"> </span><span class="o">*</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-12"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">util</span><span class="o">::</span><span class="n">getFunc</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getCallee</span><span class="p">());</span>
</span><span id="__span-3-13"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">f</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">f</span><span class="o">-&gt;</span><span class="n">getUnmangledName</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;__add__&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">numArgs</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-3-14"><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-3-15">
</span><span id="__span-3-16"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">lhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cast</span><span class="o">&lt;</span><span class="n">IntConst</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">());</span>
</span><span id="__span-3-17"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">rhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cast</span><span class="o">&lt;</span><span class="n">IntConst</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">back</span><span class="p">());</span>
</span><span id="__span-3-18">
</span><span id="__span-3-19"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">lhs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-20"><span class="w">      </span><span class="kt">long</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lhs</span><span class="o">-&gt;</span><span class="n">getVal</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rhs</span><span class="o">-&gt;</span><span class="n">getVal</span><span class="p">();</span>
</span><span id="__span-3-21"><span class="w">      </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">replaceAll</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getModule</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">getInt</span><span class="p">(</span><span class="n">sum</span><span class="p">));</span>
</span><span id="__span-3-22"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-23"><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-24"><span class="p">};</span>
</span><span id="__span-3-25">
</span><span id="__span-3-26"><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">MyAddFolder</span><span class="o">::</span><span class="n">KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;my-add-folder&quot;</span><span class="p">;</span>
</span></code></pre></div>
<p>So how does this actually work, and what do the different components mean? Here
are some notable points:</p>
<ul>
<li>Most passes can inherit from <code>transform::OperatorPass</code>. <code>OperatorPass</code> is a combination
  of an <code>Operator</code> and a <code>Pass</code>. An <code>Operator</code> is a utility visitor that provides hooks for
  handling all the different node types (i.e. through the <code>handle()</code> methods). <code>Pass</code> is the
  base class representing a generic pass, which simply provides a <code>run()</code> method that takes
  a module.</li>
<li>Because of this, <code>MyAddFolder::handle(CallInstr *)</code> will be called on every call instruction
  in the module.</li>
<li>Within our <code>handle()</code>, we first check to see if the function being called is <code>__add__</code>, indicating
  addition (in practice there would be a more specific check to make sure this is <em>the</em> <code>__add__</code>),
  and if so we extract the first and second arguments.</li>
<li>We cast these arguments to <code>IntConst</code>. If the results are non-null, then both arguments were in fact
  integer constants, meaning we can replace the original call instruction with a new constant that
  represents the result of the addition. In CIR, all nodes are "replaceable" via a <code>replaceAll()</code> method.</li>
<li>Lastly, notice that all passes have a <code>KEY</code> field to uniquely identify them.</li>
</ul>
<h3 id="bidirectionality">Bidirectionality<a class="headerlink" href="#bidirectionality" title="Permanent link">&para;</a></h3>
<p>An important and often very useful feature of CIR is that it is <em>bidirectional</em>, meaning it's possible
to return to the type checking stage to generate new IR nodes that were not initially present in the
module. For example, imagine that your pass needs to use a <code>List</code> with some new element type; that list's
methods need to be instantiated by the type checker for use in CIR. In practice this bidirectionality
often lets you write large parts of your optimization or transformation in Codon, and pull out the necessary
functions or types as needed in the pass.</p>
<p>CIR's <code>Module</code> class has three methods to enable this feature:</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1"><span class="w">  </span><span class="c1">/// Gets or realizes a function.</span>
</span><span id="__span-4-2"><span class="w">  </span><span class="c1">/// @param funcName the function name</span>
</span><span id="__span-4-3"><span class="w">  </span><span class="c1">/// @param args the argument types</span>
</span><span id="__span-4-4"><span class="w">  </span><span class="c1">/// @param generics the generics</span>
</span><span id="__span-4-5"><span class="w">  </span><span class="c1">/// @param module the module of the function</span>
</span><span id="__span-4-6"><span class="w">  </span><span class="c1">/// @return the function or nullptr</span>
</span><span id="__span-4-7"><span class="w">  </span><span class="n">Func</span><span class="w"> </span><span class="o">*</span><span class="n">getOrRealizeFunc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="n">funcName</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">types</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="n">args</span><span class="p">,</span>
</span><span id="__span-4-8"><span class="w">                         </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">types</span><span class="o">::</span><span class="n">Generic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-4-9"><span class="w">                         </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</span><span id="__span-4-10">
</span><span id="__span-4-11"><span class="w">  </span><span class="c1">/// Gets or realizes a method.</span>
</span><span id="__span-4-12"><span class="w">  </span><span class="c1">/// @param parent the parent class</span>
</span><span id="__span-4-13"><span class="w">  </span><span class="c1">/// @param methodName the method name</span>
</span><span id="__span-4-14"><span class="w">  </span><span class="c1">/// @param rType the return type</span>
</span><span id="__span-4-15"><span class="w">  </span><span class="c1">/// @param args the argument types</span>
</span><span id="__span-4-16"><span class="w">  </span><span class="c1">/// @param generics the generics</span>
</span><span id="__span-4-17"><span class="w">  </span><span class="c1">/// @return the method or nullptr</span>
</span><span id="__span-4-18"><span class="w">  </span><span class="n">Func</span><span class="w"> </span><span class="o">*</span><span class="nf">getOrRealizeMethod</span><span class="p">(</span><span class="n">types</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="n">methodName</span><span class="p">,</span>
</span><span id="__span-4-19"><span class="w">                           </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">types</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="n">args</span><span class="p">,</span>
</span><span id="__span-4-20"><span class="w">                           </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">types</span><span class="o">::</span><span class="n">Generic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{});</span>
</span><span id="__span-4-21">
</span><span id="__span-4-22"><span class="w">  </span><span class="c1">/// Gets or realizes a type.</span>
</span><span id="__span-4-23"><span class="w">  </span><span class="c1">/// @param typeName mangled type name</span>
</span><span id="__span-4-24"><span class="w">  </span><span class="c1">/// @param generics the generics</span>
</span><span id="__span-4-25"><span class="w">  </span><span class="c1">/// @return the function or nullptr</span>
</span><span id="__span-4-26"><span class="w">  </span><span class="n">types</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="o">*</span><span class="nf">getOrRealizeType</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="n">typeName</span><span class="p">,</span>
</span><span id="__span-4-27"><span class="w">                                </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">types</span><span class="o">::</span><span class="n">Generic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{});</span>
</span></code></pre></div>
<p>Let's see bidirectionality in action. Consider the following Codon code:</p>
<div class="highlight"><pre><span></span><code><span id="__span-5-1"><span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="__span-5-2">    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span>
</span><span id="__span-5-3">
</span><span id="__span-5-4"><span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="__span-5-5">    <span class="k">assert</span> <span class="n">y</span> <span class="o">==</span> <span class="n">x</span><span class="o">*</span><span class="mi">4</span>
</span><span id="__span-5-6">
</span><span id="__span-5-7"><span class="n">a</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-5-8"><span class="n">b</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
</span><span id="__span-5-9"><span class="n">c</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p>Assume we want our pass to insert a call to <code>validate()</code> after each assignment that takes the assigned variable
and the argument passed to <code>foo()</code>. We would do something like the following:</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/transform/pass.h&quot;</span>
</span><span id="__span-6-2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/util/irtools.h&quot;</span>
</span><span id="__span-6-3">
</span><span id="__span-6-4"><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">codon</span><span class="o">::</span><span class="nn">ir</span><span class="p">;</span>
</span><span id="__span-6-5">
</span><span id="__span-6-6"><span class="k">class</span><span class="w"> </span><span class="nc">ValidateFoo</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">transform</span><span class="o">::</span><span class="n">OperatorPass</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-7"><span class="k">public</span><span class="o">:</span>
</span><span id="__span-6-8"><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">KEY</span><span class="p">;</span>
</span><span id="__span-6-9"><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="nf">getKey</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">KEY</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-6-10">
</span><span id="__span-6-11"><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">handle</span><span class="p">(</span><span class="n">AssignInstr</span><span class="w"> </span><span class="o">*</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-12"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getModule</span><span class="p">();</span>
</span><span id="__span-6-13"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getLhs</span><span class="p">();</span>
</span><span id="__span-6-14"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cast</span><span class="o">&lt;</span><span class="n">CallInstr</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getRhs</span><span class="p">());</span>
</span><span id="__span-6-15"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">call</span><span class="p">)</span>
</span><span id="__span-6-16"><span class="w">      </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-6-17">
</span><span id="__span-6-18"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">util</span><span class="o">::</span><span class="n">getFunc</span><span class="p">(</span><span class="n">call</span><span class="o">-&gt;</span><span class="n">getCallee</span><span class="p">());</span>
</span><span id="__span-6-19"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">foo</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">foo</span><span class="o">-&gt;</span><span class="n">getUnmangledName</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</span><span id="__span-6-20"><span class="w">      </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-6-21">
</span><span id="__span-6-22"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">arg1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">call</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">();</span><span class="w">         </span><span class="c1">// argument of &#39;foo&#39; call</span>
</span><span id="__span-6-23"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">arg2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">M</span><span class="o">-&gt;</span><span class="n">Nr</span><span class="o">&lt;</span><span class="n">VarValue</span><span class="o">&gt;</span><span class="p">(</span><span class="n">var</span><span class="p">);</span><span class="w">  </span><span class="c1">// result of &#39;foo&#39; call</span>
</span><span id="__span-6-24"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">validate</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-6-25"><span class="w">      </span><span class="n">M</span><span class="o">-&gt;</span><span class="n">getOrRealizeFunc</span><span class="p">(</span><span class="s">&quot;validate&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">arg1</span><span class="o">-&gt;</span><span class="n">getType</span><span class="p">(),</span><span class="w"> </span><span class="n">arg2</span><span class="o">-&gt;</span><span class="n">getType</span><span class="p">()});</span>
</span><span id="__span-6-26"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">validate</span><span class="p">)</span>
</span><span id="__span-6-27"><span class="w">      </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-6-28">
</span><span id="__span-6-29"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">validateCall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">util</span><span class="o">::</span><span class="n">call</span><span class="p">(</span><span class="n">validate</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">});</span>
</span><span id="__span-6-30"><span class="w">    </span><span class="n">insertAfter</span><span class="p">(</span><span class="n">validateCall</span><span class="p">);</span><span class="w">  </span><span class="c1">// call &#39;validate&#39; after &#39;foo&#39;</span>
</span><span id="__span-6-31"><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-32"><span class="p">};</span>
</span><span id="__span-6-33">
</span><span id="__span-6-34"><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">ValidateFoo</span><span class="o">::</span><span class="n">KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;validate-foo&quot;</span><span class="p">;</span>
</span></code></pre></div>
<p>Note that <code>insertAfter</code> is a convenience method of <code>Operator</code> that inserts the given node "after" the node
being visited (along with <code>insertBefore</code> which inserts <em>before</em> the node being visited).</p>
<p>Running this pass on the snippet above, we would get:</p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1"><span class="n">a</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-7-2"><span class="n">validate</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</span><span id="__span-7-3">
</span><span id="__span-7-4"><span class="n">b</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
</span><span id="__span-7-5"><span class="n">validate</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</span><span id="__span-7-6">
</span><span id="__span-7-7"><span class="n">c</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
</span><span id="__span-7-8"><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</span></code></pre></div>
<p>Notice that we used <code>getOrRealizeFunc</code> to create three different instances of <code>validate</code>: one for <code>int</code>
arguments, one for <code>float</code> arguments and finally one for <code>str</code> arguments.</p>
<h2 id="extending-the-ir">Extending the IR<a class="headerlink" href="#extending-the-ir" title="Permanent link">&para;</a></h2>
<p>CIR is extensible, and it is possible to add new constants, instructions, flows and types. This can be
done by subclassing the corresponding <em>custom</em> base class; to create a custom type, for example, you
would subclass <code>CustomType</code>. Let's look at an example where we extend CIR to add a 32-bit float type
(note that Codon already has a native 32-bit float type; this is just for demonstration purposes):</p>
<div class="highlight"><pre><span></span><code><span id="__span-8-1"><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">codon</span><span class="o">::</span><span class="nn">ir</span><span class="p">;</span>
</span><span id="__span-8-2">
</span><span id="__span-8-3"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/dsl/nodes.h&quot;</span>
</span><span id="__span-8-4"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;codon/cir/llvm/llvisitor.h&quot;</span>
</span><span id="__span-8-5">
</span><span id="__span-8-6"><span class="k">class</span><span class="w"> </span><span class="nc">Builder</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">dsl</span><span class="o">::</span><span class="n">codegen</span><span class="o">::</span><span class="n">TypeBuilder</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-7"><span class="k">public</span><span class="o">:</span>
</span><span id="__span-8-8"><span class="w">  </span><span class="n">llvm</span><span class="o">::</span><span class="n">Type</span><span class="w"> </span><span class="o">*</span><span class="n">buildType</span><span class="p">(</span><span class="n">LLVMVisitor</span><span class="w"> </span><span class="o">*</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-9"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getBuilder</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">getFloatTy</span><span class="p">();</span>
</span><span id="__span-8-10"><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-11">
</span><span id="__span-8-12"><span class="w">  </span><span class="n">llvm</span><span class="o">::</span><span class="n">DIType</span><span class="w"> </span><span class="o">*</span><span class="n">buildDebugType</span><span class="p">(</span><span class="n">LLVMVisitor</span><span class="w"> </span><span class="o">*</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-13"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getModule</span><span class="p">();</span>
</span><span id="__span-8-14"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">layout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">module</span><span class="o">-&gt;</span><span class="n">getDataLayout</span><span class="p">();</span>
</span><span id="__span-8-15"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">getDebugInfo</span><span class="p">();</span>
</span><span id="__span-8-16"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="o">*</span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buildType</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
</span><span id="__span-8-17"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">builder</span><span class="o">-&gt;</span><span class="n">createBasicType</span><span class="p">(</span>
</span><span id="__span-8-18"><span class="w">           </span><span class="s">&quot;float_32&quot;</span><span class="p">,</span>
</span><span id="__span-8-19"><span class="w">           </span><span class="n">layout</span><span class="p">.</span><span class="n">getTypeAllocSizeInBits</span><span class="p">(</span><span class="n">t</span><span class="p">),</span>
</span><span id="__span-8-20"><span class="w">           </span><span class="n">llvm</span><span class="o">::</span><span class="n">dwarf</span><span class="o">::</span><span class="n">DW_ATE_float</span><span class="p">);</span>
</span><span id="__span-8-21"><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-22"><span class="p">};</span>
</span><span id="__span-8-23">
</span><span id="__span-8-24"><span class="k">class</span><span class="w"> </span><span class="nc">Float32</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">dsl</span><span class="o">::</span><span class="n">CustomType</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-25"><span class="k">public</span><span class="o">:</span>
</span><span id="__span-8-26"><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">TypeBuilder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getBuilder</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-27"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_unique</span><span class="o">&lt;</span><span class="n">Builder</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="__span-8-28"><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-29"><span class="p">};</span>
</span></code></pre></div>
<p>Notice that, in order to specify how to generate code for our <code>Float32</code> type, we create a <code>TypeBuilder</code>
subclass with methods for building the corresponding LLVM IR type. There is also a <code>ValueBuilder</code> for
new constants and converting them to LLVM IR, as well as a <code>CFBuilder</code> for new instructions and creating
control-flow graphs out of them.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When subclassing nodes other than types (e.g. instructions, flows, etc.), be sure to use the <code>AcceptorExtend</code>
<a href="https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern">CRTP</a> class, as in
<code>class MyNewInstr : public AcceptorExtend&lt;MyNewInstr, dsl::CustomInstr&gt;</code>.</p>
</div>
<h2 id="utilities">Utilities<a class="headerlink" href="#utilities" title="Permanent link">&para;</a></h2>
<p>The <code>codon/cir/util/</code> directory has a number of utility and generally helpful functions, for things like
cloning IR, inlining/outlining, matching and more. <code>codon/cir/util/irtools.h</code> in particular has many helpful
functions for performing various common tasks. If you're working with CIR, be sure to take a look at these
functions to make your life easier!</p>
<h2 id="standard-pass-pipeline">Standard pass pipeline<a class="headerlink" href="#standard-pass-pipeline" title="Permanent link">&para;</a></h2>
<p>These standard sets of passes are run in <code>release</code>-mode:</p>
<ul>
<li>
<p>Python-specific optimizations: a series of passes to optimize common Python patterns and
  idioms. Examples include dictionary updates of the form <code>d[k] = d.get(k, x) &lt;op&gt; y</code>, and
  optimizing them to do just <em>one</em> access into the dictionary, as well as optimizing repeated
  string concatenations, various I/O patterns, list operations and so on.</p>
</li>
<li>
<p>Imperative <code>for</code>-loop lowering: loops of the form <code>for i in range(a, b, c)</code> (with <code>c</code> constant)
  are lowered to a special IR node, since these loops are important for e.g. multithreading later.</p>
</li>
<li>
<p>A series of program analyses whose results are available to later passes:</p>
</li>
<li><a href="https://en.wikipedia.org/wiki/Control_flow_analysis">Control-flow analysis</a></li>
<li><a href="https://en.wikipedia.org/wiki/Reaching_definition">Reaching definition analysis</a></li>
<li><a href="https://en.wikipedia.org/wiki/Dominator_(graph_theory)">Dominator analysis</a></li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Escape_analysis">Capture (or escape) analysis</a></p>
</li>
<li>
<p>Parallel loop lowering for multithreading or GPU</p>
</li>
<li>
<p>Constant propagation and folding. This also includes dead code elimination and (in non-JIT mode)
  global variable demotion.</p>
</li>
<li>
<p>Library-specific optimizations, such as operator fusion for <a href="../../libraries/numpy/">NumPy</a>.</p>
</li>
</ul>
<p>Codon <a href="../extend/">plugins</a> can inject their own passes into the pipeline as well.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Exaloop, Inc.
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/exaloop" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/HeWRhagCmP" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/exaloop" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/exaloop" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "search.suggest", "search.highlight", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.tabs", "navigation.top", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../js/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>